(()=>{"use strict";let e=document.getElementById("mainAlbumEnd"),t=document.getElementById("otherAlbumsContainer");var n;(n=async function(){await fetch("/api/albums/pages/random").then((e=>e.json())).then((({content:e})=>{let n=e.map((e=>(({namedId:e,imageUrl:t,imagesUrls:n=[],title:a,creationDate:i,description:c},s,r=!1)=>{let l=document.createElement("a");l.setAttribute("href",`/${s}/${e}`),l.setAttribute("class","section");let o=document.createElement("div");o.setAttribute("class","section__image-container");let m=document.createElement("img");m.setAttribute("src",t||n[0]),m.setAttribute("loading","lazy"),m.setAttribute("alt",a),m.setAttribute("class","section__image");let d=document.createElement("div");d.setAttribute("class","section__info");let u=document.createElement("div");u.setAttribute("class","section__info__date");let p=document.createElement("p");p.innerText=i;let b=document.createElement("div");b.setAttribute("class","section__info__title");let _=document.createElement("p");if(_.innerText=a,o.append(m),u.append(p),b.append(_),d.append(u,b),r){let e=document.createElement("div");e.setAttribute("class","section__info__description");let t=document.createElement("p");t.innerText=c,e.append(t),d.append(e)}return l.append(o,d),l})(e,"albums")));t.append(...n)})).catch((e=>{console.error(e)}))},new IntersectionObserver(((e,t)=>{e.forEach((async e=>{e.isIntersecting&&(await n(),t.unobserve(e.target))}))}))).observe(e)})();