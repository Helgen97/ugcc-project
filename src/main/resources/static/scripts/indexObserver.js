(()=>{"use strict";const e=e=>new IntersectionObserver(((t,n)=>{t.forEach((async t=>{t.isIntersecting&&(await e(),n.unobserve(t.target))}))}));let t=document.getElementById("churchNewsBlockStart"),n=document.getElementById("churchSectionsContainer"),c=document.getElementById("publicationNewsBlockStart"),i=document.getElementById("publicationSectionsContainer");async function a(e,t){await fetch(`/api/news/pages?sectionId=${e}&page=0&size=4`).then((e=>e.json())).then((({content:e})=>{let n=e.map((e=>(({namedId:e,imageUrl:t,imagesUrls:n=[],title:c,creationDate:i,description:a},s,o=!1)=>{let r=document.createElement("a");r.setAttribute("href",`/${s}/${e}`),r.setAttribute("class","section");let l=document.createElement("div");l.setAttribute("class","section__image-container");let d=document.createElement("img");d.setAttribute("src",t||n[0]),d.setAttribute("loading","lazy"),d.setAttribute("alt",c),d.setAttribute("class","section__image");let m=document.createElement("div");m.setAttribute("class","section__info");let u=document.createElement("div");u.setAttribute("class","section__info__date");let p=document.createElement("p");p.innerText=i;let _=document.createElement("div");_.setAttribute("class","section__info__title");let b=document.createElement("p");if(b.innerText=c,l.append(d),u.append(p),_.append(b),m.append(u,_),o){let e=document.createElement("div");e.setAttribute("class","section__info__description");let t=document.createElement("p");t.innerText=a,e.append(t),m.append(e)}return r.append(l,m),r})(e,"news")));t.append(...n)})).catch((e=>{console.error(e)}))}let s=e((async function(){await a(2,n)})),o=e((async function(){await a(3,i)}));s.observe(t),o.observe(c)})();